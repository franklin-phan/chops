(this.webpackJsonpchops=this.webpackJsonpchops||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(8),i=n.n(s),r=n(19),c=n.n(r),l=(n(37),n(27)),o=n(28),u=n(29),d=n(10),h=n(31),j=n(30),b=(n(38),n(11)),p=b.a.initializeApp({apiKey:"AIzaSyDl1h-YYooOKqWdOvpBoDMq1yFcoC1InCc",authDomain:"chops-3f363.firebaseapp.com",projectId:"chops-3f363",storageBucket:"chops-3f363.appspot.com",messagingSenderId:"117004854879",appId:"1:117004854879:web:448bef686f5ed1d4721dea",measurementId:"G-1WRXC3JY45"}),m=n(20),f=(n(41),new m.a.auth.GoogleAuthProvider),O=m.a.auth(),x=n(15),v=n(13),g=n.n(v),y=n(12),k=n.n(y),w=n(14),S=function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,a=n.email,s=n.password,e.prev=2,e.next=5,b.a.auth().createUserWithEmailAndPassword(a.value,s.value);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Sign up"}),Object(a.jsxs)("form",{onSubmit:e,children:[Object(a.jsxs)("label",{children:["Email",Object(a.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(a.jsxs)("label",{children:["Password",Object(a.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(a.jsx)("button",{type:"submit",children:"Sign Up"})]})]})},C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function I(){var e,t=i.a.useState(!1),n=Object(x.a)(t,2),s=n[0],r=n[1];function c(){r(!1)}return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:function(){r(!0)},children:"Sign Up"}),Object(a.jsxs)(g.a,{isOpen:s,onAfterOpen:function(){e.style.color="#f00"},onRequestClose:c,style:C,contentLabel:"Example Modal",children:[Object(a.jsx)(S,{}),Object(a.jsx)("div",{ref:function(t){return e=t}}),Object(a.jsx)("button",{onClick:c,children:"Cancel"}),Object(a.jsx)("button",{onClick:function(){var e=this;O.signInWithRedirect(f).then((function(t){var n=t.user;e.setState({user:n})}))},children:"Sign Up With Google"})]})]})}var V=function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,a=n.email,s=n.password,e.prev=2,e.next=5,b.a.auth().signInWithEmailAndPassword(a.value,s.value);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Log in"}),Object(a.jsxs)("form",{onSubmit:e,children:[Object(a.jsxs)("label",{children:["Email",Object(a.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(a.jsxs)("label",{children:["Password",Object(a.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(a.jsx)("button",{type:"submit",children:"Log in"})]})]})},P={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function L(){var e,t=i.a.useState(!1),n=Object(x.a)(t,2),s=n[0],r=n[1];function c(){r(!1)}return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:function(){r(!0)},children:"Log In"}),Object(a.jsxs)(g.a,{isOpen:s,onAfterOpen:function(){e.style.color="#f00"},onRequestClose:c,style:P,contentLabel:"Example Modal",children:[Object(a.jsx)(V,{}),Object(a.jsx)("div",{ref:function(t){return e=t}}),Object(a.jsx)("button",{onClick:c,children:"Cancel"}),Object(a.jsx)("button",{onClick:function(){var e=this;O.signInWithRedirect(f).then((function(t){var n=t.user;e.setState({user:n})}))},children:"Log In with Google"})]})]})}function N(e){var t=e.user,n=e.logout;return Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h1",{children:"Jam Session"}),t?Object(a.jsx)("button",{onClick:n,children:"Logout"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{}),Object(a.jsx)(L,{})]})]})})}var R=function(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("p",{children:"You must be logged in to see posts and submit to it."})})};function A(e){var t=e.nameValue,n=e.postValue,s=e.handleChange,i=e.handleSubmit,r=e.linkValue,c=e.typeValue;return Object(a.jsx)("section",{className:"add-item",children:Object(a.jsxs)("form",{onSubmit:i,children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"What's your name?",value:t}),Object(a.jsx)("input",{type:"text",name:"currentItem",placeholder:"Title of Song",onChange:s,value:n}),Object(a.jsx)("input",{type:"text",name:"linkValue",placeholder:"Link",onChange:s,value:r}),Object(a.jsx)("label",{for:"types",children:"Platform:"}),Object(a.jsxs)("select",{id:"types",name:"typeValue",onChange:s,value:c,children:[Object(a.jsx)("option",{value:"SoundCloud",children:"SoundCloud"}),Object(a.jsx)("option",{value:"Spotify",children:"Spotify"}),Object(a.jsx)("option",{value:"YouTube",children:"Youtube"})]}),Object(a.jsx)("button",{children:"Add Item"})]})})}var E=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={currentItem:"",linkValue:"",typeValue:"",username:"",items:[],user:null,show:!1},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e.login=e.login.bind(Object(d.a)(e)),e.logout=e.logout.bind(Object(d.a)(e)),e}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"logout",value:function(){var e=this;O.signOut().then((function(){e.setState({user:null})}))}},{key:"login",value:function(){var e=this;O.signInWithRedirect(f).then((function(t){var n=t.user;e.setState({user:n})}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=p.database().ref("items"),n={title:this.state.currentItem,link:this.state.linkValue,type:this.state.typeValue,user:this.state.user.displayName||this.state.user.email};t.push(n),this.setState({currentItem:"",linkValue:"",typeValue:"",username:""})}},{key:"componentDidMount",value:function(){var e=this;O.onAuthStateChanged((function(t){t&&e.setState({user:t})})),p.database().ref("items").on("value",(function(t){var n=t.val(),a=[];for(var s in n)a.push({id:s,title:n[s].title,link:n[s].link,type:n[s].type,user:n[s].user});e.setState({items:a})}))}},{key:"removeItem",value:function(e){p.database().ref("/items/".concat(e)).remove()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(N,{user:this.state.user,logout:this.logout}),this.state.user?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"user-profile",children:Object(a.jsx)("img",{src:this.state.user.photoURL,alt:"ProfilePic"})}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(A,{nameValue:this.state.user.displayName||this.state.user.email,postValue:this.state.currentItem,linkValue:this.state.linkValue,typeValue:this.state.typeValue,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),Object(a.jsx)("section",{className:"display-item",children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("ul",{children:this.state.items.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("h3",{children:t.title}),"SoundCloud"===t.type?Object(a.jsx)("iframe",{title:"post",width:"100%",height:"166",scrolling:"no",frameborder:"no",allow:"autoplay",src:"https://w.soundcloud.com/player/?url="+t.link+"&am;"}):null,"Spotify"===t.type?Object(a.jsx)("iframe",{src:t.link.replace("track","embed/track"),title:"post",width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}):null,"YouTube"===t.type?Object(a.jsx)("iframe",{title:"post",width:"100%",height:"166",src:t.link.replace("watch?v=","embed/"),frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}):null,Object(a.jsxs)("p",{children:["Posted by: ",t.user,t.user===e.state.user.displayName||t.user===e.state.user.email?Object(a.jsx)("button",{onClick:function(){return e.removeItem(t.id)},children:"Remove Item"}):null]})]},t.id)}))})})})]})]}):Object(a.jsx)("div",{children:Object(a.jsx)(R,{})})]})}}]),n}(s.Component),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root")),W()}},[[54,1,2]]]);
//# sourceMappingURL=main.698f8e0b.chunk.js.map