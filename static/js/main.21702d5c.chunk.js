(this.webpackJsonpchops=this.webpackJsonpchops||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(8),i=n.n(a),r=n(19),c=n.n(r),o=(n(37),n(27)),l=n(28),u=n(29),h=n(9),d=n(31),j=n(30),b=(n(38),n(11)),p=b.a.initializeApp({apiKey:"AIzaSyDl1h-YYooOKqWdOvpBoDMq1yFcoC1InCc",authDomain:"chops-3f363.firebaseapp.com",projectId:"chops-3f363",storageBucket:"chops-3f363.appspot.com",messagingSenderId:"117004854879",appId:"1:117004854879:web:448bef686f5ed1d4721dea",measurementId:"G-1WRXC3JY45"}),m=n(20),O=(n(41),new m.a.auth.GoogleAuthProvider),f=m.a.auth();var v=function(){return Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsx)("p",{children:"You must be logged in to see the potluck list and submit to it."})})},x=n(15),g=n(13),y=n.n(g),w=n(12),S=n.n(w),C=n(14),k=function(){var e=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,s,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,s=n.email,a=n.password,e.prev=2,e.next=5,b.a.auth().createUserWithEmailAndPassword(s.value,a.value);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Sign up"}),Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsxs)("label",{children:["Email",Object(s.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(s.jsxs)("label",{children:["Password",Object(s.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(s.jsx)("button",{type:"submit",children:"Sign Up"})]})]})},I={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function M(){var e,t=i.a.useState(!1),n=Object(x.a)(t,2),a=n[0],r=n[1];function c(){r(!1)}return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){r(!0)},children:"Sign Up"}),Object(s.jsxs)(y.a,{isOpen:a,onAfterOpen:function(){e.style.color="#f00"},onRequestClose:c,style:I,contentLabel:"Example Modal",children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{ref:function(t){return e=t}}),Object(s.jsx)("button",{onClick:c,children:"Cancel"}),Object(s.jsx)("button",{onClick:function(){var e=this;f.signInWithRedirect(O).then((function(t){var n=t.user;e.setState({user:n})}))},children:"Sign Up With Google"})]})]})}var N=function(){var e=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,s,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,s=n.email,a=n.password,e.prev=2,e.next=5,b.a.auth().signInWithEmailAndPassword(s.value,a.value);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Log in"}),Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsxs)("label",{children:["Email",Object(s.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(s.jsxs)("label",{children:["Password",Object(s.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(s.jsx)("button",{type:"submit",children:"Log in"})]})]})},P={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function L(){var e,t=i.a.useState(!1),n=Object(x.a)(t,2),a=n[0],r=n[1];function c(){r(!1)}return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){r(!0)},children:"Log In"}),Object(s.jsxs)(y.a,{isOpen:a,onAfterOpen:function(){e.style.color="#f00"},onRequestClose:c,style:P,contentLabel:"Example Modal",children:[Object(s.jsx)(N,{}),Object(s.jsx)("div",{ref:function(t){return e=t}}),Object(s.jsx)("button",{onClick:c,children:"Cancel"}),Object(s.jsx)("button",{onClick:function(){var e=this;f.signInWithRedirect(O).then((function(t){var n=t.user;e.setState({user:n})}))},children:"Log In with Google"})]})]})}var R=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.state={currentItem:"",username:"",items:[],user:null,show:!1},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.login=e.login.bind(Object(h.a)(e)),e.logout=e.logout.bind(Object(h.a)(e)),e.showModal=e.showModal.bind(Object(h.a)(e)),e.hideModal=e.hideModal.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"logout",value:function(){var e=this;f.signOut().then((function(){e.setState({user:null})}))}},{key:"login",value:function(){var e=this;f.signInWithRedirect(O).then((function(t){var n=t.user;e.setState({user:n})}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=p.database().ref("items"),n={title:this.state.currentItem,user:this.state.user.displayName||this.state.user.email};t.push(n),this.setState({currentItem:"",username:""})}},{key:"componentDidMount",value:function(){var e=this;f.onAuthStateChanged((function(t){t&&e.setState({user:t})})),p.database().ref("items").on("value",(function(t){var n=t.val(),s=[];for(var a in n)s.push({id:a,title:n[a].title,user:n[a].user});e.setState({items:s})}))}},{key:"removeItem",value:function(e){p.database().ref("/items/".concat(e)).remove()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)("header",{children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("h1",{children:"Fun Food Friends"}),this.state.user?Object(s.jsx)("button",{onClick:this.logout,children:"Logout"}):Object(s.jsxs)("div",{children:[Object(s.jsx)(M,{}),Object(s.jsx)(L,{})]})]})}),this.state.user?Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"user-profile",children:Object(s.jsx)("img",{src:this.state.user.photoURL,alt:"ProfilePic"})}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("section",{className:"add-item",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("input",{type:"text",name:"username",placeholder:"What's your name?",value:this.state.user.displayName||this.state.user.email}),Object(s.jsx)("input",{type:"text",name:"currentItem",placeholder:"What are you bringing?",onChange:this.handleChange,value:this.state.currentItem}),Object(s.jsx)("button",{children:"Add Item"})]})}),Object(s.jsx)("section",{className:"display-item",children:Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsx)("ul",{children:this.state.items.map((function(t){return Object(s.jsxs)("li",{children:[Object(s.jsx)("h3",{children:t.title}),Object(s.jsxs)("p",{children:["brought by: ",t.user,t.user===e.state.user.displayName||t.user===e.state.user.email?Object(s.jsx)("button",{onClick:function(){return e.removeItem(t.id)},children:"Remove Item"}):null]})]},t.id)}))})})})]})]}):Object(s.jsx)("div",{children:Object(s.jsx)(v,{})})]})}}]),n}(a.Component),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root")),W()}},[[54,1,2]]]);
//# sourceMappingURL=main.21702d5c.chunk.js.map